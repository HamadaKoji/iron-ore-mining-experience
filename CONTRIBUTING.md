# 貢献ガイド

「初めての鉄鉱石採掘体験」プロジェクトへの貢献を歓迎します！
このガイドでは、効果的に貢献するための手順とルールを説明します。

## 🎯 貢献の種類

### 1. バグ報告
- ゲームの動作不良
- テストの失敗
- ドキュメントの誤り
- パフォーマンスの問題

### 2. 機能提案
- 新しい建物・資源
- UI/UX改善
- ゲームメカニクスの追加
- 開発者体験の向上

### 3. コード貢献
- バグ修正
- 新機能実装
- パフォーマンス改善
- テスト追加

### 4. ドキュメント改善
- README更新
- コメント追加
- チュートリアル作成
- 翻訳（将来）

## 🚀 貢献の始め方

### 1. 環境セットアップ
```bash
# リポジトリをフォーク
git clone https://github.com/HamadaKoji/iron-ore-mining-experience.git
cd iron-ore-mining-experience

# 依存関係の確認（Node.js必要）
node --version  # v14以上推奨

# テスト実行で環境確認
npm test
```

### 2. 開発環境の起動
```bash
# ローカルサーバー起動
npm run dev

# ブラウザでアクセス
http://localhost:8000

# テスト実行
http://localhost:8000/test.html
```

## 📋 貢献プロセス

### Step 1: Issue作成・確認
1. **既存Issueの確認**: 重複を避けるため既存のIssueを確認
2. **新しいIssue作成**: バグ報告や機能提案のIssue作成
3. **議論**: 実装方針について事前に議論

### Step 2: 開発準備
```bash
# 最新のmainブランチを取得
git checkout main
git pull origin main

# 適切なブランチを作成
git checkout -b feature/your-feature-name
# または
git checkout -b fix/your-bug-fix
```

### Step 3: 実装
1. **コード実装**: 機能追加やバグ修正
2. **テスト作成**: 新機能には必ずテストを追加
3. **ドキュメント更新**: 必要に応じてドキュメント更新

### Step 4: 品質確認
```bash
# テスト実行
npm test

# コードの動作確認
npm run dev
```

### Step 5: コミット・プッシュ
```bash
# 変更をステージング
git add .

# 意味のあるコミットメッセージ
git commit -m "✨ feat(buildings): 製錬炉システムを追加

- 鉄鉱石から鉄板を生成する製錬炉を実装
- 燃料システム（石炭）を追加
- 製錬時間とアニメーション効果を実装

Closes #15"

# プッシュ
git push origin feature/your-feature-name
```

### Step 6: Pull Request作成
1. **GitHub上でPR作成**
2. **テンプレートに従って記入**
3. **レビュー依頼**

## 📝 コード品質基準

### 必須要件
- [ ] **テストの追加**: 新機能には対応するテストが必要
- [ ] **テストの成功**: 全テストが成功すること
- [ ] **コーディング規約**: DEVELOPMENT.mdの規約に準拠
- [ ] **ドキュメント更新**: 必要に応じてドキュメント更新

### 推奨事項
- [ ] **パフォーマンス考慮**: 大きなパフォーマンス影響がないこと
- [ ] **ブラウザ互換性**: サポート対象ブラウザでの動作確認
- [ ] **アクセシビリティ**: 可能な限りアクセシブルな実装

## 🧪 テスト要件

### 新機能のテスト
```javascript
// 例: 新しい建物のテスト
framework.test('製錬炉 - 鉄鉱石から鉄板生成', function() {
    const furnace = new Furnace();
    furnace.addInput('iron-ore', 1);
    furnace.process();
    
    this.assertEqual(furnace.getOutput('iron-plate'), 1, '鉄板が生成されない');
});
```

### テストカテゴリ
1. **ユニットテスト**: 個別モジュールのテスト
2. **統合テスト**: モジュール間連携のテスト
3. **回帰テスト**: 既存機能の動作確認

### テスト実行
```bash
# 全テスト実行
npm test

# 特定のテストファイル
node tests/buildings.test.js

# ブラウザでのテスト
http://localhost:8000/test.html
```

## 📋 Pull Requestテンプレート

```markdown
## 概要
<!-- 変更内容の簡潔な説明 -->

## 変更内容
- [ ] 新機能追加
- [ ] バグ修正
- [ ] パフォーマンス改善
- [ ] ドキュメント更新
- [ ] テスト追加

## 詳細
<!-- 実装の詳細、技術的な説明 -->

## テスト
- [ ] 新しいテストを追加した
- [ ] 既存のテストが全て成功する
- [ ] ブラウザでの動作確認を行った

## スクリーンショット
<!-- UI変更がある場合はスクリーンショットを添付 -->

## 関連Issue
Closes #issue_number

## チェックリスト
- [ ] コーディング規約に準拠している
- [ ] ドキュメントを更新した（必要に応じて）
- [ ] 破壊的変更がある場合は明記した
```

## 🔍 コードレビュー

### レビュー観点
1. **機能要件**: 要求された機能が正しく実装されているか
2. **コード品質**: 可読性、保守性、拡張性
3. **テスト**: 適切なテストが追加されているか
4. **パフォーマンス**: 大きな性能劣化がないか
5. **セキュリティ**: セキュリティ上の問題がないか

### レビュープロセス
1. **自動チェック**: テストの実行結果確認
2. **コードレビュー**: 人による詳細なレビュー
3. **修正対応**: 指摘事項への対応
4. **承認・マージ**: 最終承認とマージ

## 🐛 バグ報告

### バグ報告テンプレート
```markdown
## バグの概要
<!-- バグの簡潔な説明 -->

## 再現手順
1. 
2. 
3. 

## 期待される動作
<!-- 本来どうあるべきか -->

## 実際の動作
<!-- 実際に何が起こったか -->

## 環境
- OS: 
- ブラウザ: 
- バージョン: 

## スクリーンショット
<!-- 可能であればスクリーンショットを添付 -->

## 追加情報
<!-- その他の関連情報 -->
```

## 💡 機能提案

### 提案テンプレート
```markdown
## 機能の概要
<!-- 提案する機能の説明 -->

## 動機・背景
<!-- なぜこの機能が必要か -->

## 詳細な仕様
<!-- 具体的な実装内容 -->

## 代替案
<!-- 他に考えられる実装方法 -->

## 影響範囲
<!-- 既存機能への影響 -->

## 実装の複雑さ
- [ ] 簡単（1-2日）
- [ ] 中程度（3-5日）
- [ ] 複雑（1週間以上）
```

## 🎨 UI/UX改善

### デザイン原則
1. **シンプルさ**: 複雑さを避け、直感的な操作
2. **一貫性**: 既存のデザインとの統一感
3. **アクセシビリティ**: 多様なユーザーへの配慮
4. **レスポンシブ**: 様々な画面サイズへの対応

### 提案時の添付資料
- モックアップ・ワイヤーフレーム
- 既存UIとの比較
- ユーザビリティの改善点

## 🌍 国際化（将来）

### 翻訳貢献
- 新しい言語の追加
- 既存翻訳の改善
- 文化的な適応

### 翻訳ガイドライン
- 技術用語の統一
- 文脈に応じた自然な翻訳
- ゲーム内での表示確認

## 📞 コミュニケーション

### 質問・相談
- **GitHub Issues**: バグ報告・機能提案
- **GitHub Discussions**: 設計議論・質問
- **Pull Request**: コードレビュー

### 行動規範
1. **尊重**: 他の貢献者を尊重する
2. **建設的**: 建設的なフィードバックを心がける
3. **協力的**: チームワークを重視する
4. **学習意欲**: 新しいことを学ぶ姿勢

## 🏆 貢献者の認識

### 貢献の記録
- **Contributors**: GitHubの貢献者リスト
- **Changelog**: 重要な貢献の記録
- **Credits**: ゲーム内での貢献者クレジット（将来）

### 貢献レベル
- **First-time contributor**: 初回貢献者
- **Regular contributor**: 継続的貢献者
- **Core contributor**: コア貢献者
- **Maintainer**: メンテナー

---

貢献に関する質問があれば、遠慮なくGitHub Issuesでお聞きください。
あなたの貢献をお待ちしています！🎉
